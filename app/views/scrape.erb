
<%= @message if @message %>
<br>
Enter a range to scrape:
<form method="POST" action="/scrape" onsubmit="return checkRange()">
<label for="lower_range">Lower Range:</label>
        <input type="number" id="lower_range" name="lower_range">
<label for="upper_range">Upper Range:</label>
        <input type="number" id="upper_range" name="upper_range">    
<label for="password"> Administrative Password Required: </label>
<input type = "password" id="password" name="password">
<button type="submit">Submit</button>
</form>

<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>

  <script>

function checkRange() {
    const lowerRange = document.getElementByID("lower_range");
    const upperRange = document.getElementByID("upper_range");
    console.log("checkRange");
    if (lowerRange.value === "" || upperRange.value ===""){
        console.log("if range is empty");
        alert("Please fill in a value for range");
        return false;
    }

    if (lowerRange >= upperRange){
        console.log("if lower greater than upper range");
        alert("Lower range must be less than Upper range");
        return false;
    }
    return true;
}

function submitOnEnter(event) {
	if (event.keyCode === 13) {
		document.querySelector("form").submit();
	}
}

document.getElementById("password").addEventListener("keypress", submitOnEnter)
</script)