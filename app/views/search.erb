

<h1>
<%= @error_message if @error_message %>
<%= @search_header if @search_header %>
</h1>


<form method = "GET" action="/search_results" onsubmit="return checkIfFormFilled()">

    <div class="form-group">
        <label for="wage">A job that pays more than $</label> 
        <input type = "number" id="wage" name="wage" value= "25">
         <select name="wage_unit">
            <option value="hour">per hour</option>
            <option value="year">per year</option>
        </select>
        <p> with education requirements like: </p>
        <input type="checkbox" class = "checkbox" name="education[]" id="university" value="University">
        <label for="university"> University </label><br>
        <input type="checkbox" class = "checkbox" name="education[]" id="college"  value="College or apprenticeship">
        <label for="college"> College or apprenticeship </label><br>
        <input type="checkbox" class = "checkbox" name="education[]" id="highschool"  value="High school or specific training">
        <label for="highschool"> High school or specific training </label><br>
        <input type="checkbox" class = "checkbox" name="education[]" id="on_the_job"  value="On-the-job training">
        
        <label for="on_the_job"> On the job training </label><br><br>
        <label for="num_posts">with more than</label>
        <input type="number" id="num_posts" name="num_posts" value=1>
        <label for "num_posts"> fucking job posting(s).</label>
    </div> 
 
        <button class="action" type="submit">Show me that fucking job.</button>
      

</form>
<a class="action" href="/"> I don't fucking care. </a>

    <script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>

<script>

function checkIfFormFilled(){
    if (checkWage() && checkEducation() && checkNumPosts()) {
        return true;
    }
    return false;
}

function checkWage(){
    if (document.getElementById("wage").value == ""){
        alert("Wage can't be blank. If you don't fucking care about how much money you'd make put in $0");
    return false;
    }
    return true;
}

function checkNumPosts(){
    if (document.getElementById("num_posts").value == ""){
        alert("Number of postings can't be blank.  IF you don't fucking care if anyone is hiring right now put in 0.");
        return false;
    }
    return true;
}

function checkEducation(){
    const checkboxes = Array.from(document.querySelectorAll(".checkbox"));
    console.log(checkboxes);
    let acc = false;
    checkboxes.forEach(current =>{
        if (current.checked){
        acc = current.checked;
        }
    });   
    if (acc === false){
        alert("Education requirement needed. if you don't fucking care about that, check all the boxes");
        return false;
    }
    return true;
}

</script>